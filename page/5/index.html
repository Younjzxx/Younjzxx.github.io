<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.0.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"jiazx.top","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12,"onmobile":true},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Try Everything......">
<meta property="og:type" content="website">
<meta property="og:title" content="J Blog">
<meta property="og:url" content="http://jiazx.top/page/5/index.html">
<meta property="og:site_name" content="J Blog">
<meta property="og:description" content="Try Everything......">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Stephen Jia">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://jiazx.top/page/5/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>J Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">J Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://jiazx.top/2020/08/16/%E9%A1%B9%E7%9B%AE-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="Stephen Jia">
      <meta itemprop="description" content="Try Everything......">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="J Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/16/%E9%A1%B9%E7%9B%AE-2/" class="post-title-link" itemprop="url">阿里云个人服务器搭建项目笔记一：云服务器安装并部署jdk, mysql</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-08-16 16:55:55 / 修改时间：17:01:45" itemprop="dateCreated datePublished" datetime="2020-08-16T16:55:55+08:00">2020-08-16</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>作为小白一步一步傻瓜式搭建自己的服务器，慢慢来，不着急…….</p>
<h1 id="购买服务器"><a href="#购买服务器" class="headerlink" title="购买服务器"></a>购买服务器</h1><p>首先购买阿里云ECS服务器。根据需求购买，最近因为疫情阿里云还有学生活动，学生党学习课程答题可以免费领，这里我购买的是CentOS的系统。</p>
<h1 id="配置服务器"><a href="#配置服务器" class="headerlink" title="配置服务器"></a>配置服务器</h1><p>1.购买服务器之后，会自动创建实例，如果没有的话看看左上角的区域有没有选错。<br>2.系统创建好实例之后，最好重新设置实例密码和远程连接密码。<br>3.重设密码之后，在网络与安全-安全组-配置规则处添加安全组规则，将自己的ip添加到授权对象中。<br>端口范围：若通过Linux系统连接，则设置为22/22，若通过windows连接，则设置为3389/3389，其他默认即可。</p>
<p><strong>以上所有工作做完，重启服务器！</strong></p>
<p>重启服务器之后，先在网页端测试系统，进入实例列表-远程连接-VNC方式连接，先输入远程连接密码，然后使用root进入系统，输入实例密码即可，这里貌似有个坑，密码中有*号的特殊符号的时候，进入系统好像默认是不开启小键盘的，所以要开启一下小键盘或者用shitf+8直接输，因为密码输入的时候没有光标的移动，所以这里踩坑了。</p>
<h1 id="windows连接服务器及文件的交互"><a href="#windows连接服务器及文件的交互" class="headerlink" title="windows连接服务器及文件的交互"></a>windows连接服务器及文件的交互</h1><p>下载Xshell和Xftp 6，Xshell用来操作系统，Xftp 6用来文件交互。<br>2.两个软件下载好之后，都要新建连接，这里要复制实例的<strong>公有ip</strong>，输入用户名和实例密码之后即可以连接。</p>
<h1 id="服务器安装JDK环境"><a href="#服务器安装JDK环境" class="headerlink" title="服务器安装JDK环境"></a>服务器安装JDK环境</h1><p>1.去Orcale官网下载需要的jdk版本的rpm 安装包。</p>
<p>2.使用Xftp将下载好的rpm安装包移动到服务器中，可以选择移动到tmp文件夹下。</p>
<p>3.在服务器端使用Xshell中： <strong>cd //tmp/</strong> 进入安装包所在的目录， ls查看目录下文件。这里我是红色的 jdk-8u65-linux-x64.rpm</p>
<p>4.因为rpm是自执行文件，所以文件默认是红色的状态，所以要赋予这个文件自执行的权限 ：<br> <strong>chmod 777 jdk-8u65-linux-x64.rpm</strong></p>
<p>5.再次查看tmp下文件ls， 发现原来红色的 jdk-8u65-linux-x64.rpm变为了绿色。此时就可以安装jdk了，使用下面的语句进行安装。<br><strong>rpm -ivh jdk-8u65-linux-x64.rpm</strong></p>
<p>6.安装完成之后，<strong>cd //usr/java</strong>并ls查看是否成功安装。<br>这里显示：<strong>default  jdk1.8.0_65  latest</strong>表示安装成功。</p>
<p>7.使用java -version验证安装即可。</p>
<h1 id="配置jdk的环境变量："><a href="#配置jdk的环境变量：" class="headerlink" title="配置jdk的环境变量："></a>配置jdk的环境变量：</h1><p>1.cd ~<br>2.vim ~/.bash_profile 编辑环境变量文件。<br>3.编辑环境变量: <strong>按i进入插入模式</strong></p>
<p># User specific environment and startup programs</p>
<p><strong>PATH=$PATH:$HOME/bin<br>JAVA_HOME=usr//java/jdk1.8.0_65<br>PATH=$PATH:$JAVA_HOME/bin</strong></p>
<p>export PATH</p>
<p>然后 esc 之后输入 <strong>:wq</strong> 退出即可。<br>配置好java_home的路径，然后将系统的path后面拼接上java_home的bin路径。</p>
<p>4.修改好bash_profile文件之后，必须刷新一下才能生效，进入根目录：<br><strong>source ~/.bash_profile</strong><br>然后再次查看<strong>java -version</strong>，生效，配置环境变量成功。</p>
<h1 id="服务器安装mysql环境"><a href="#服务器安装mysql环境" class="headerlink" title="服务器安装mysql环境"></a>服务器安装mysql环境</h1><p>1.使用 *<em>yum install mysql**</em> 命令安装mysql所有的依赖。遇到提示确认输入y即可。最后会显示Complete!安装成功。</p>
<p>2.<strong>yum install mariadb-server</strong>安装CentOS必须的数据库服务</p>
<p>3.<strong>systemctl start mariadb.service</strong>启动mariadb对应mysql的服务器。</p>
<p>4.<strong>ps -ef | grep mysql</strong>查看mysql是否被启动起来。</p>
<p>5.查看mysql启动的端口号，一般默认为3306.<br><strong>netstat -anp | grep 3306</strong><br>显示tcp        0      0 0.0.0.0:<strong>3306</strong>    ……</p>
<p>6.此时mysql还没设置密码，可以<strong>mysqladmin -u root password 要设置的密码</strong>  来设置mysql的root用户的密码。</p>
<p>7.下面就是mysql的内部的命令了，用mysql -uroot -p密码 登录mysql，下面可以进行数据库的各种操作，不再赘述。</p>
<h1 id="将本机的mysql数据库部署到服务器中"><a href="#将本机的mysql数据库部署到服务器中" class="headerlink" title="将本机的mysql数据库部署到服务器中"></a>将本机的mysql数据库部署到服务器中</h1><p>1.使用mysqldump备份数据库<br>windows下命令：<br><strong>C:\WINDOWS\system32&gt;mysqldump -uroot -p密码 –databases 数据库名 &gt; c:\Download\自己设置的名字.sql</strong></p>
<p>在c:\Download\下会生成一个对应的sql文件，将这个文件上传到服务器的tmp文件夹中</p>
<p>2.服务器端由sql文件生成数据库<br>mysql -uroot -p密码 &lt; //tmp/刚才设置的名字.sql<br>生成完毕，可以查看数据库是否正确。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://jiazx.top/2020/08/16/%E9%A1%B9%E7%9B%AE-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="Stephen Jia">
      <meta itemprop="description" content="Try Everything......">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="J Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/16/%E9%A1%B9%E7%9B%AE-1/" class="post-title-link" itemprop="url">阿里云个人服务器搭建项目笔记零：基础项目构建流程</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-08-16 16:54:43 / 修改时间：16:56:39" itemprop="dateCreated datePublished" datetime="2020-08-16T16:54:43+08:00">2020-08-16</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="应用springboot2，mybaits3开发的前后端分离基础商城项目"><a href="#应用springboot2，mybaits3开发的前后端分离基础商城项目" class="headerlink" title="应用springboot2，mybaits3开发的前后端分离基础商城项目"></a>应用springboot2，mybaits3开发的前后端分离基础商城项目</h1><ul>
<li><p>tips：项目我<strong>已经部署到了云端服务器，欢迎给本菜鸡提供宝贵意见~</strong></p>
</li>
<li><p><strong>注册入口(项目已下线)：</strong><br><a target="_blank" rel="noopener" href="http://47.115.19.41/resources/getotp.html">点击直接进入注册</a>：<a target="_blank" rel="noopener" href="http://47.115.19.41/resources/getotp.html">http://47.115.19.41/resources/getotp.html</a></p>
</li>
<li><p><strong>本篇README所有内容仅包括基础部分的构建，项目优化的历程放在了我的博客内，不会再到README中更新。</strong></p>
</li>
</ul>
<ul>
<li>项目使用项目根据业务的需要分为用户模块，商品模块，交易模块，以及秒杀模块，如要使用本项目，<strong>需要的数据库表可以根据mapper文件里面的字段来手动建立。</strong>    </li>
</ul>
<h1 id="项目分层"><a href="#项目分层" class="headerlink" title="项目分层"></a>项目分层</h1><h2 id="1-前端UI"><a href="#1-前端UI" class="headerlink" title="1.前端UI"></a>1.前端UI</h2><h2 id="2-接入层controller（对应view-object，即vo）前端返回的是定义好的通用返回对象，若系统正常则返回vo，有异常则返回异常信息和异常状态码。"><a href="#2-接入层controller（对应view-object，即vo）前端返回的是定义好的通用返回对象，若系统正常则返回vo，有异常则返回异常信息和异常状态码。" class="headerlink" title="2.接入层controller（对应view object，即vo）前端返回的是定义好的通用返回对象，若系统正常则返回vo，有异常则返回异常信息和异常状态码。"></a>2.接入层controller（对应view object，即vo）前端返回的是定义好的通用返回对象，若系统正常则返回vo，有异常则返回异常信息和异常状态码。</h2><h2 id="3-业务层service（这里的业务层对象根据阿里巴巴的规范命名为了business-object，即XxBO）包括用户service，商品service，交易下单service，以及秒杀service。"><a href="#3-业务层service（这里的业务层对象根据阿里巴巴的规范命名为了business-object，即XxBO）包括用户service，商品service，交易下单service，以及秒杀service。" class="headerlink" title="3.业务层service（这里的业务层对象根据阿里巴巴的规范命名为了business object，即XxBO）包括用户service，商品service，交易下单service，以及秒杀service。"></a>3.业务层service（这里的业务层对象根据阿里巴巴的规范命名为了business object，即XxBO）包括用户service，商品service，交易下单service，以及秒杀service。</h2><h2 id="4-数据层dao（对应data-object，即do，每一个属性和数据库表一一对应，并且使用mybatis逆向插件自动生成）使用事务保证了数据的一致性。"><a href="#4-数据层dao（对应data-object，即do，每一个属性和数据库表一一对应，并且使用mybatis逆向插件自动生成）使用事务保证了数据的一致性。" class="headerlink" title="4.数据层dao（对应data object，即do，每一个属性和数据库表一一对应，并且使用mybatis逆向插件自动生成）使用事务保证了数据的一致性。"></a>4.数据层dao（对应data object，即do，每一个属性和数据库表一一对应，并且使用mybatis逆向插件自动生成）使用事务保证了数据的一致性。</h2><h1 id="以下是按顺序记录的基本开发流程"><a href="#以下是按顺序记录的基本开发流程" class="headerlink" title="以下是按顺序记录的基本开发流程"></a>以下是按顺序记录的基本开发流程</h1><h1 id="一-技术选型"><a href="#一-技术选型" class="headerlink" title="一.技术选型"></a>一.技术选型</h1><p>springboot2,mysql,druid连接池,mybatis整合springboot依赖.lombok插件<br><strong>以下是mybatis逆向工程插件配置</strong>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--mybatis逆向生成工程插件引入 ：START--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.generator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-generator-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">          <span class="comment">&lt;!--这里core依赖会标红，先放到顶部dependencies标签内下载好再放过来即可--&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.generator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-generator-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.19<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>mybatis generator<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">goal</span>&gt;</span>generate<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">          <span class="comment">&lt;!--允许移动生成的文件--&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">verbose</span>&gt;</span>true<span class="tag">&lt;/<span class="name">verbose</span>&gt;</span></span><br><span class="line">          <span class="comment">&lt;!--允许自动覆盖的文件，第二次生成的时候记得设为false--&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">overwrite</span>&gt;</span>true<span class="tag">&lt;/<span class="name">overwrite</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">configurationFile</span>&gt;</span></span><br><span class="line">            src/main/resources/mybatis-generator.xml</span><br><span class="line">          <span class="tag">&lt;/<span class="name">configurationFile</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--mybatis逆向工程插件引入 ：END--&gt;</span>  </span><br></pre></td></tr></table></figure>



<h1 id="二-创建数据库及用户信息表，用户密码表，并根据逆向工程插件的配置放置配置文件"><a href="#二-创建数据库及用户信息表，用户密码表，并根据逆向工程插件的配置放置配置文件" class="headerlink" title="二.创建数据库及用户信息表，用户密码表，并根据逆向工程插件的配置放置配置文件"></a>二.创建数据库及用户信息表，用户密码表，并根据逆向工程插件的配置放置配置文件</h1><p>路径：src/main/resources/下创建mybatis-generator.xml,编写方式如下：    </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>  </span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">generatorConfiguration</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">generatorConfiguration</span>&gt;</span>     </span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">context</span> <span class="attr">id</span>=<span class="string">&quot;DB2Tables&quot;</span> <span class="attr">targetRuntime</span>=<span class="string">&quot;MyBatis3&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--数据库链接地址账号密码--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jdbcConnection</span> <span class="attr">driverClass</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">connectionURL</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/seckillboot?serverTimezone=GMT%2B8&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">userId</span>=<span class="string">&quot;root&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">password</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">jdbcConnection</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--生成DataObject类存放位置,即将user_info和user_password在dataobject下分别建立两个java生成文件--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaModelGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;com.seckill.dos&quot;</span> <span class="attr">targetProject</span>=<span class="string">&quot;src/main/java&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span>    </span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;trimStrings&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaModelGenerator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--生成映射文件存放位置,在resources下的mapping下生成映射文件--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sqlMapGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;mapping&quot;</span>  <span class="attr">targetProject</span>=<span class="string">&quot;src/main/resources&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">sqlMapGenerator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--生成Dao类存放位置--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaClientGenerator</span> <span class="attr">type</span>=<span class="string">&quot;XMLMAPPER&quot;</span> <span class="attr">targetPackage</span>=<span class="string">&quot;com.seckill.dao&quot;</span>  <span class="attr">targetProject</span>=<span class="string">&quot;src/main/java&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaClientGenerator</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--生成对应表及类名--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--  enableCountByExample=&quot;false&quot;</span></span><br><span class="line"><span class="comment">               enableUpdateByExample=&quot;false&quot;</span></span><br><span class="line"><span class="comment">               enableDeleteByExample=&quot;false&quot;</span></span><br><span class="line"><span class="comment">               enableSelectByExample=&quot;false&quot;</span></span><br><span class="line"><span class="comment">               selectByExampleQueryId=&quot;false&quot;</span></span><br><span class="line"><span class="comment">               这些属性是为了使得只生成简单查询的对应文件，去掉复杂查询的生成文件，因为一般开发中不太用的到,在table标签里面设置这些</span></span><br><span class="line"><span class="comment">               属性之后，就可以吧xxxDOExample删除掉</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">&quot;user_info&quot;</span> <span class="attr">domainObjectName</span>=<span class="string">&quot;UserDO&quot;</span></span></span><br><span class="line"><span class="tag">                       <span class="attr">enableCountByExample</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">                       <span class="attr">enableUpdateByExample</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">                       <span class="attr">enableDeleteByExample</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">                       <span class="attr">enableSelectByExample</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">                       <span class="attr">selectByExampleQueryId</span>=<span class="string">&quot;false&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">&quot;user_password&quot;</span> <span class="attr">domainObjectName</span>=<span class="string">&quot;UserPasswordDO&quot;</span></span></span><br><span class="line"><span class="tag">                       <span class="attr">enableCountByExample</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">                       <span class="attr">enableUpdateByExample</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">                       <span class="attr">enableDeleteByExample</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">                       <span class="attr">enableSelectByExample</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">                       <span class="attr">selectByExampleQueryId</span>=<span class="string">&quot;false&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context</span>&gt;</span>    </span><br><span class="line"><span class="tag">&lt;/<span class="name">generatorConfiguration</span>&gt;</span>    </span><br></pre></td></tr></table></figure>




<h1 id="三-项目配置文件中指定数据源及实现类"><a href="#三-项目配置文件中指定数据源及实现类" class="headerlink" title="三.项目配置文件中指定数据源及实现类"></a>三.项目配置文件中指定数据源及实现类</h1><p>逆向工程已经在项目中分别创建好了dao接口，dos包下dataobject数据表对应类,以及classpath下的mapping文件夹下的mapper映射文件       </p>
<h2 id="1-在项目启动类上添加如下注解-："><a href="#1-在项目启动类上添加如下注解-：" class="headerlink" title="1.在项目启动类上添加如下注解    ："></a>1.在项目启动类上添加如下注解    ：</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication(scanBasePackages = &#123;&quot;com.seckill&quot;&#125;)</span> <span class="comment">//自动扫描seckill包下面带注解的类，如@Service，@Controller等等      </span></span><br><span class="line">    <span class="meta">@MapperScan(&quot;com.seckill.dao&quot;)</span> <span class="comment">//设置扫描dao接口的包的位置     </span></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;...&#125;      </span><br></pre></td></tr></table></figure>

<h2 id="2-在application-properties中添加以下配置："><a href="#2-在application-properties中添加以下配置：" class="headerlink" title="2.在application.properties中添加以下配置："></a>2.在application.properties中添加以下配置：</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment"># 指定mybatis映射文件的位置      </span></span><br><span class="line">mybatis.mapper-locations=classpath:mapping/*.xml     </span><br><span class="line"></span><br><span class="line"><span class="comment"># 为数据源指定一个名称，并且配置数据源连接     </span></span><br><span class="line">spring.datasource.name=seckillboot    </span><br><span class="line">spring.datasource.url=jdbc:mysql://localhost:3306/seckillboot?serverTimezone=GMT%2B8    </span><br><span class="line">spring.datasource.username=root    </span><br><span class="line">spring.datasource.password=ssss1111   </span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置数据源实现类为druid   </span></span><br><span class="line">spring.datasource.type=com.alibaba.druid.pool.DruidDataSource     </span><br><span class="line">spring.datasource.driver-class-name=com.mysql.jdbc.Driver    </span><br></pre></td></tr></table></figure>

<p>​    </p>
<h1 id="四-完善项目结构：添加service层和controller层"><a href="#四-完善项目结构：添加service层和controller层" class="headerlink" title="四.完善项目结构：添加service层和controller层"></a>四.完善项目结构：添加service层和controller层</h1><p>先编写controller层代码：<br>添加类注解：<br>    @Controller(“user”)<br>    @RequestMapping(“/user”)<br>    添加方法注解<br>    @RequestMapping(“/get”)<br>    @ResponseBody //返回的是json数据而不是地址  </p>
<p>在controller层中编写的UserController类时可以发现以下问题：  </p>
<p>1.controller方法中要调用Service层（已经@Autowired）的方法获取对象响应给前端页面，但是现在只有数据库表对应的UserDO对象。  </p>
<p>2.我们目前先将service层的getUserById的方法的返回类型定义为UserDO，这个UserDO对象所包含的属性如下：    </p>
<p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> Integer id;     </span><br><span class="line"><span class="keyword">private</span> String name;     </span><br><span class="line"><span class="keyword">private</span> Byte gender;      </span><br><span class="line"><span class="keyword">private</span> Integer age;       </span><br><span class="line"><span class="keyword">private</span> String telephone;      </span><br><span class="line"><span class="keyword">private</span> String registerMode;   </span><br><span class="line"><span class="keyword">private</span> String thirdPartyId;     </span><br></pre></td></tr></table></figure>


<p>可以发现属性中并不包含密码，这在我们service中是不允许的，service层必须具有business object对象，所以我们新建一个bos包存放模型对象UserBO，即新包含了用户密码属性的对象UserBo，并在service层创建转换方法，从do转换为bo，这里体现为多封装一个用户密码，代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> UserBO <span class="title">convertFromDataObjectToBusinessObject</span><span class="params">(UserDO userDO, UserPasswordDO userPasswordDO)</span></span>&#123;  </span><br><span class="line">        <span class="keyword">if</span>(userDO == <span class="keyword">null</span>)&#123;  </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;  </span><br><span class="line">        &#125;  </span><br><span class="line">        UserBO userBO = <span class="keyword">new</span> UserBO();  </span><br><span class="line">        BeanUtils.copyProperties(userDO, userBO);  </span><br><span class="line">        <span class="keyword">if</span>(userPasswordDO != <span class="keyword">null</span>)&#123;  </span><br><span class="line">            userBO.setEncrptPassword(userPasswordDO.getEncrptPassword());  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">return</span> userBO;     </span><br><span class="line">        &#125;         </span><br></pre></td></tr></table></figure>

<p>3.在经过第二步的分析之后，我们可以将编写getUserById返回值调整为UserBo，但在通过userPasswordDOMapper获取UserPasswordDO对象时，我们发现原来的mapper只有从select by primary key的逻辑，所以增加了一个select by user_id字段的方法，根据user_id查询用户。最后通过第二步中的转换方法得到的UserBO返回.         </p>
<p>4.我们回到controller层继续编写代码，我们从service层得到了bo对象，这时候绝对不能直接将bo对象直接响应给前端，一是因为bo对象<strong>携带有用户密码</strong>，非常危险，二是bo对象含有<strong>前端不需要的信息</strong>，不需要回传，所以我们要新建一个视图层vos（viewobject）对象，这个视图层对象只包含前台需要的对象属性：<br>在controller层中写如下的转换方法，将从service层获得的bo对象转换为vo对象，并最终返回，vo对象只含以下基本属性：id,name,gender,age,telephone。  </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> UserVO <span class="title">convertFromBOToVO</span><span class="params">(UserBO userBO)</span></span>&#123;  </span><br><span class="line">      <span class="keyword">if</span>(userBO == <span class="keyword">null</span>)&#123;     </span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">null</span>;  </span><br><span class="line">      &#125;  </span><br><span class="line">      UserVO userVO = <span class="keyword">new</span> UserVO();  </span><br><span class="line">      <span class="keyword">return</span> userVO;                                   </span><br><span class="line">      &#125;                </span><br></pre></td></tr></table></figure>


<p>​<br>最后编写的controller层的getUser方法如下：                                </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/get&quot;)</span>                 </span><br><span class="line">      <span class="meta">@ResponseBody</span> <span class="comment">//返回的是json数据而不是地址                    </span></span><br><span class="line">      <span class="function"><span class="keyword">public</span> UserVO <span class="title">getUser</span><span class="params">(<span class="meta">@RequestParam(name=&quot;id&quot;)</span> Integer id)</span></span>&#123;                     </span><br><span class="line">          <span class="comment">//RequestParam获取页面上用户操作从而传过来的id，然后         </span></span><br><span class="line">          <span class="comment">//调用service服务获取对应id的用户对象并返回给前端回显                        </span></span><br><span class="line">          <span class="comment">//但是如下两行代码将加密后密码也返回给了前端，非常危险                         </span></span><br><span class="line">          <span class="comment">//所以为了这个问题加一了层专门为了视图层而创建的模型对象层viewobject(vio)                   </span></span><br><span class="line">          UserBO userBO = userService.getUserById(id);                   </span><br><span class="line">          <span class="comment">//将返回的类型从userModel转换为了userVO，即将核心领域模型对象转化为可供ui使用的viewobject                    </span></span><br><span class="line">          UserVO userVO = convertFromBOToVO(userBO);                        </span><br><span class="line">          <span class="keyword">return</span> userVO;                      </span><br><span class="line">      &#125;        </span><br></pre></td></tr></table></figure>


<h1 id="五-返回类型进一步优化：异常处理"><a href="#五-返回类型进一步优化：异常处理" class="headerlink" title="五. 返回类型进一步优化：异常处理"></a>五. 返回类型进一步优化：异常处理</h1><p>我们使用把返回的uservo转换为一种CommonReturnType的形式来实现归一化的异常处理，具体方法为：  </p>
<p>1.定义一个CommonReturnType类，其内部有两个属性：string的status状态信息（success或者fail），以及object类型的data，正常返回（status=success）时里面是的前端需要的信息，出现错误（status=fail）时则保存了错误的错误码和错误信息。  </p>
<p>2.CommonReturnType类内部定义两个创建自身对象的重载方法create，如果传参时只有data而不带任何的状态码，那么就是success，并通过方法内部再调用第二个重载方法把对应的result封装返回；如果传参时就带状态码和status，那么就会直接调用第二个重载的方法 ，并且result我们可以设置为错误信息.  </p>
<p>3.这一步我们要实现将status为fail时，对CommonReturnType的data的设置，我们可以将其设置为一个错误码，和对应错误码的错误信息,即errCode和errMsg，要实现这个功能，我们可以先定义一个CommonError接口：  </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">CommonError</span> </span>&#123;  </span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getErrorCode</span><span class="params">()</span></span>;  </span><br><span class="line">       <span class="function"><span class="keyword">public</span> String <span class="title">getErrorMessage</span><span class="params">()</span></span>;  </span><br><span class="line">       <span class="function"><span class="keyword">public</span> CommonError <span class="title">setErrMsg</span><span class="params">(String errMsg)</span></span>;  </span><br><span class="line">    &#125;  </span><br></pre></td></tr></table></figure>


<p>4.我们要创建一个枚举类并实现CommonError接口，内部有errCode和errMsg属性，枚举类对象即为错误状态，创建有参构造函数内含两个参数，  即errCode和errMsg，并且在枚举类中实现好接口中的方法将错误码和错误信息的封装，以及错误信息的设置；<br>再创建一个BusinessException类继承Exception并也实现CommonError接口BusinessException和EmBusinessError。都实现了CommonError中定义的方法：<br>这样外部不仅可以new BusinessException 也可以new EmBusinessError ，也都可以有对应的errCode和errMsg并且都实现了setErrMsg的方法，这样BusinessException可以将原来EmBusinessError定义的errMsg覆盖掉  </p>
<ul>
<li>BusinessException内部有两个重载的构造函数：    </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//直接接收EmBusinessError的传参用于构造业务异常                </span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">BusinessException</span><span class="params">(CommonError commonError)</span></span>&#123;           </span><br><span class="line">      <span class="keyword">super</span>();                  </span><br><span class="line">      <span class="keyword">this</span>.commonError = commonError;                         </span><br><span class="line">   &#125;               </span><br><span class="line">   <span class="comment">//接收自定义errMsg的方式构造业务异常           </span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">BusinessException</span><span class="params">(CommonError commonError, String errMsg)</span></span>&#123;             </span><br><span class="line">      <span class="keyword">super</span>();               </span><br><span class="line">      <span class="keyword">this</span>.commonError = commonError;                                           </span><br><span class="line">      <span class="keyword">this</span>.commonError.setErrMsg(errMsg);                    </span><br><span class="line">   &#125;     </span><br></pre></td></tr></table></figure>


<p>5.定义exceptionHandler解决未被controller层吸收的exception异常，我们可以用springboot的异常处理的注解<br>     @ExceptionHandler(Exception.class)//固定写法，写在要处理exception的方法之上<br>     @ResponseStatus(HttpStatus.OK)//将异常置为ok状态，以便于回显异常信息<br>     @ResponseBody //以json形式返回异常信息 返回的是status（fail）以及data（errCode，errMsg）<br>     上述的方法要抽取到BaseController类中，并让UserController继承此类，实现controller层共用代码的抽取     </p>
<h1 id="六-实现用户获取手机验证码功能"><a href="#六-实现用户获取手机验证码功能" class="headerlink" title="六.实现用户获取手机验证码功能"></a>六.实现用户获取手机验证码功能</h1><h2 id="1-usercontroller内创建用户获取otp短信的方法"><a href="#1-usercontroller内创建用户获取otp短信的方法" class="headerlink" title="1.usercontroller内创建用户获取otp短信的方法"></a>1.usercontroller内创建用户获取otp短信的方法</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//basecontroller内定义public static final String CONTENT_TYPE_FORMED=&quot;application/x-www-form-urlencoded&quot;;  </span></span><br><span class="line">    <span class="meta">@PostMapping(value = &quot;/getotp&quot;, consumes = &#123;CONTENT_TYPE_FORMED&#125;)</span>  </span><br><span class="line">    <span class="meta">@ResponseBody</span>  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> CommonReturnType <span class="title">getOtp</span><span class="params">(<span class="meta">@RequestParam(name = &quot;telephone&quot;)</span> String telephone)</span></span>&#123;  </span><br><span class="line">        <span class="comment">//需要按照一定的规则生成otp验证码  </span></span><br><span class="line">        Random random = <span class="keyword">new</span> Random();    </span><br><span class="line">        <span class="comment">//[0, 900000)随机数  </span></span><br><span class="line">        <span class="keyword">int</span> randomInt = random.nextInt(<span class="number">900000</span>);  </span><br><span class="line">        randomInt += <span class="number">100000</span>; <span class="comment">//[100000, 1000000)  </span></span><br><span class="line">        String otpCode = String.valueOf(randomInt);  </span><br><span class="line"></span><br><span class="line">        <span class="comment">//将otp验证码同对应用户的手机号关联,使用httpsession的方式绑定用户的手机号和otpCode  </span></span><br><span class="line">        httpServletRequest.getSession().setAttribute(telephone, otpCode);<span class="comment">//用户的otpCode被用户手机号关联  </span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//模拟将otp验证码通过短信通道发送给用户，这里省略这个方式,并替换为打印到控制台的方式  </span></span><br><span class="line">        System.out.println(<span class="string">&quot;telephone = &quot;</span> + telephone + <span class="string">&quot; &amp; otpCode = &quot;</span> + otpCode);<span class="comment">//telephone = 13833333333 &amp; otpCode = 47733  </span></span><br><span class="line">        <span class="keyword">return</span> CommonReturnType.create(<span class="keyword">null</span>);  </span><br><span class="line">     &#125;          </span><br></pre></td></tr></table></figure>

<h2 id="2-使用前后端分离的方式，可以不在项目内部文件夹中编写html，写getotp-html，代码见getotp-html，重点是ajax异步请求部分"><a href="#2-使用前后端分离的方式，可以不在项目内部文件夹中编写html，写getotp-html，代码见getotp-html，重点是ajax异步请求部分" class="headerlink" title="2.使用前后端分离的方式，可以不在项目内部文件夹中编写html，写getotp.html，代码见getotp.html，重点是ajax异步请求部分"></a>2.使用前后端分离的方式，可以不在项目内部文件夹中编写html，写getotp.html，代码见getotp.html，重点是ajax异步请求部分</h2><p>tips：要实现前后端分离还需要允许跨域请求，需要在UserController上面添加@CrossOrigin的springboot注解，允许前端ajax请求跨域。<br>    3.使用metronic框架美化getotp.html，引入  </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;static/assets/global/plugins/bootstrap/css/bootstrap.min.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>/&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;static/assets/global/css/components.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>/&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;static/assets/admin/pages/css/login.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>/&gt;</span> </span><br></pre></td></tr></table></figure>
<p>并在相应标签内加入class属性即可给页面元素添加样式  </p>
<h1 id="七-实现用户注册功能"><a href="#七-实现用户注册功能" class="headerlink" title="七.实现用户注册功能"></a>七.实现用户注册功能</h1><h2 id="1-在controller层内写用户注册方法"><a href="#1-在controller层内写用户注册方法" class="headerlink" title="1.在controller层内写用户注册方法"></a>1.在controller层内写用户注册方法</h2><p>首先从session内获取验证码和用户接收到的验证码是否相同，合法后进入下一步<br>将用户的传参都封装到一个bo对象中，特别注意密码要md5加密，，将对象传到service层的注册方法的参数中，下一步是在service层中编写注册方法  </p>
<h2 id="2-在service层编写注册方法"><a href="#2-在service层编写注册方法" class="headerlink" title="2.在service层编写注册方法"></a>2.在service层编写注册方法</h2><p>先判断传过来的bo是否为空，完成参数校验（见下面的步骤）  </p>
<p>方法外编写bo转换为do的私有方法和passwordbo转换为passworddo的方法，分别调用dao层mapper将这两个对象插入数据库的两个数据表，（使用insertSelective可以使用数据库字段默认值）最后返回。<br>注意：通过在对应mapper的insertSelective标签中设置keyProperty=”id” useGeneratedKeys=”true”，可以将插入时自动生成的自增的id取出，转换时的passworddo就可以获取插入的user的id  </p>
<h2 id="3-编写前端代码"><a href="#3-编写前端代码" class="headerlink" title="3.编写前端代码"></a>3.编写前端代码</h2><p>register.html具体代码见项目中，注意要将所有页面元素（bo级别的属性）全部获取并判空  。并且在controller上面添加<code>@CrossOrigin(allowCredentials = &quot;true&quot; ,allowedHeaders = &quot;*&quot;)</code>的注解属性，前端的ajax请求中添加：<code>xhrFields:&#123;withCredentials:true&#125;，//允许跨域请求</code>  </p>
<p>在数据库将用户电话设置为唯一索引，并<code>catch DuplicateKeyException</code>提示用户不能使用同一手机号重复注册  </p>
<h1 id="八-实现用户登录功能，并优化参数校验规则"><a href="#八-实现用户登录功能，并优化参数校验规则" class="headerlink" title="八.实现用户登录功能，并优化参数校验规则"></a>八.实现用户登录功能，并优化参数校验规则</h1><p>1.在controller层内写用户登录方法<br>2.在service层编写验证登录方法，这里去mapper里面增加一个通过手机号获取用户信息的sql，</p>
<p>通过用户的手机号获取用户do，并通过do中的userid获取用户数据库中密码，和用户传进来的密码是否相同，不相同则抛异常即可<br>   若用户密码正确则将用户登录的凭证放进session内，并返回成功的commonreturntype<br>3.写前端页面，见login.html  </p>
<p>4.优化参数校验，引入hibernate-validator，编写ValidationResult设置其属性为boolean型的：参数是否错误 和map型的errMsg  </p>
<p>编写ValidatorImpl类并实现InitializingBean类以及当中的方法，方法内将将hibernate validator通过工厂化的初始化方式使其实例化，并编写validate方法将错误信息封装到ValidationResult中<br>   在service层中注入ValidatorImpl，在注册方法中使用validate方法校验userbo，在userbo的属性上添加参数校验的注解即可自动校验，若ValidationResult获取的校验结果为false则抛出异常，bo的注解如下  </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="meta">@NotBlank(message = &quot;用户名不能为空&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@NotNull(message = &quot;没有填写性别&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Byte gender;</span><br><span class="line">    <span class="meta">@NotNull(message = &quot;没有填写年龄&quot;)</span></span><br><span class="line">    <span class="meta">@Min(value = 0, message = &quot;年龄必须大于0&quot;)</span></span><br><span class="line">    <span class="meta">@Max(value = 150, message = &quot;年龄必须小于150&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="meta">@NotBlank(message = &quot;手机号不能为空&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String telephone;</span><br><span class="line">    <span class="keyword">private</span> String registerMode;</span><br><span class="line">    <span class="keyword">private</span> String thirdPartyId;</span><br><span class="line">    <span class="comment">//不同于do的属性</span></span><br><span class="line">    <span class="meta">@NotBlank(message = &quot;密码不能为空&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String encrptPassword;</span><br></pre></td></tr></table></figure>

<h1 id="九-开始商品（item）模块开发"><a href="#九-开始商品（item）模块开发" class="headerlink" title="九.开始商品（item）模块开发#"></a>九.开始商品（item）模块开发#</h1><h2 id="1-建立商品bo和数据库表"><a href="#1-建立商品bo和数据库表" class="headerlink" title="1.建立商品bo和数据库表"></a>1.建立商品bo和数据库表</h2><p>商品bo的属性包括商品id，名称，价格，库存，描述，销量，商品图片.<br>    建立有关商品的数据库表，商品库存要和商品信息分表，因为库存与交易流水有关，还要注意价格字段若设置为decimal时，只有长度大于20时，逆向工程才会生成big decimal的price<br>    使用mybatis逆向工程生成do，mapper和mapperxml，注意设置pom文件中自动覆盖设置为false，并且提前给所有insert标签加上keyProperty=”id” useGeneratedKeys=”true”才能获取插入时的id  </p>
<h2 id="2-创建商品service接口，并添加：创建商品、获取商品详情、获取商品列表的功能，这里是创建商品"><a href="#2-创建商品service接口，并添加：创建商品、获取商品详情、获取商品列表的功能，这里是创建商品" class="headerlink" title="2.创建商品service接口，并添加：创建商品、获取商品详情、获取商品列表的功能，这里是创建商品"></a>2.创建商品service接口，并添加：创建商品、获取商品详情、获取商品列表的功能，这里是创建商品</h2><p>创建商品的service层：将传过来的商品bo转化为两个do，然后分别插入数据库即可，并且将插入时获取的商品id赋给插入库存表之前的bo，以便库存表插入时携带有itemid。<br>    最后，将插入的两个do再转换为一个插入的bo对象，并且返回它供controller层使用  </p>
<p>创建商品的controller层：编写创建商品方法  ：</p>
<p>这里的创建代码很简单，从前端获取需要的所有属性，封装给一个bo对象，调用controller层的创建商品方法，转换为vo对象（商品的vo用到了bo的全部属性）返回commtype.create（创建出来的带id的vo即可）<br>    编写前端代码，这里出了bug就是因为数据库逆向生成的属性为double price，导致数据库里面插入的价格一直为零，所以要将数据库里面的价格字段长度改为20才可以正常插入价格字段  </p>
<h2 id="3-实现获取商品列表的功能"><a href="#3-实现获取商品列表的功能" class="headerlink" title="3.实现获取商品列表的功能"></a>3.实现获取商品列表的功能</h2><p>在商品的mapper中添加select 全部字段的方法,在service层中编写listItem方法，将查询出来的list<do> 中的所有的do对象转换为bo，并且返回这个list<bo>（这里应用的jdk8的stream api）<br>    编写controller代码，将调用的service中的方法返回的list&lt;bo&gt; 中的所有的bo对象转换为vo，并且createlist&lt;bo&gt;<br>    编写商品列表浏览的前端代码，这里前端代码有些复杂，还需研究.并在商品的列表页的每行商品处添加跳转，跳转到获取对应这个商品的商品详情页。  </p>
<h2 id="4-实现获取商品明细的功能"><a href="#4-实现获取商品明细的功能" class="headerlink" title="4.实现获取商品明细的功能"></a>4.实现获取商品明细的功能</h2><p>service层根据id获取到商品bo，controller层调用这个方法并且转化为vo即可，这里后台代码比较简单，前端代码较复杂.  </p>
<h1 id="十-开始交易模块的开发"><a href="#十-开始交易模块的开发" class="headerlink" title="十.开始交易模块的开发"></a>十.开始交易模块的开发</h1><h2 id="1-建立交易模型，即orderBO入手，思考需要的属性：有以下属性"><a href="#1-建立交易模型，即orderBO入手，思考需要的属性：有以下属性" class="headerlink" title="1.建立交易模型，即orderBO入手，思考需要的属性：有以下属性"></a>1.建立交易模型，即orderBO入手，思考需要的属性：有以下属性</h2><p>id（交易号）、用户id、商品id、购买数量、订单总价。然后建立数据库表order_info，这里的数据库表属性直接对应orderbo即可，建立完数据库表，用逆向工程生成mapper和do对象  </p>
<h2 id="2-用户下单过程"><a href="#2-用户下单过程" class="headerlink" title="2.用户下单过程"></a>2.用户下单过程</h2><p>在service层编写orderService并思考需要的方法：现在有了交易表，就从交易表入手思考，得出需要建立新建交易的方法，参数为用户id、商品id、购买数量。编写实现类，<br>        这里采取落单减库存的操作，在itemservice内创建减库存的方法，在itemstockmapper对中编写decreaseStock的update sql，方法参数为商品id和购买数量，实现减库存，<br>        减完库存我们需要将订单的信息封装到一个orderbo中，注意封装的orderprice为总价需要计算，还有封装的订单id需要由单独的一个方法完成，前八位设置为年月日，最后两位暂且为零 ,其他中间几位一次按step递增，并且因为这个功能要新建一个sequence表，里面记录curretvalue和step，按照step递增并记录订单id的中间几位）到此为止封装完了bo的全部属性，同样将bo转换为do对象，转换完毕加入订单数据表。<br>这里还需要实现增加销量的方法，参数为商品的id和购买数量，并在mapper对中添加update的sql。<br>至此serveice层编写完毕，返回了一个订单模型  </p>
<p>来到controller层，编写创建订单的方法，其中，商品id和商品的购买数量从前台传参即可获得，用户id可以从session中的userbo（之前的登录方法中setattribute有设置过）获得，顺便还可以检查用户是否登录。<br>        接下来就是调用order service的create，并返回CommonReturnType.create(orderBO)即可  </p>
<p>前端代码在商品详情页面编写，添加一个购买按钮，给其绑定单击时间添加ajax请求即可,下单成功之后添加reload可以看到下单后库存减少的方法。<br>        若没有秒杀模块的需求，项目至此基本的功能已经完成  </p>
<h1 id="十一-开始秒杀活动的开发"><a href="#十一-开始秒杀活动的开发" class="headerlink" title="十一.开始秒杀活动的开发"></a>十一.开始秒杀活动的开发</h1><h2 id="1-秒杀模型的创建，同样从bo入手"><a href="#1-秒杀模型的创建，同样从bo入手" class="headerlink" title="1.秒杀模型的创建，同样从bo入手"></a>1.秒杀模型的创建，同样从bo入手</h2><p>创建的business model模型属性有：秒杀模型的id, 秒杀活动名称， 秒杀开始时间， 秒杀结束时间， 秒杀的商品， 秒杀商品价格 ，然后建立数据库表，这里可以直接对应秒杀bo的属性即可<br>    需要注意的是，秒杀数据表的表名不能是【kill】，这里和sql的关键字会冲突，出现了bug。<br>    建立好数据表同样应用逆向工程生成对应的秒杀do和秒杀mapper对，这里可以直接在数据表上添加一个已经设置好的商品秒杀来模拟。   </p>
<h2 id="2-获取商品的秒杀模型"><a href="#2-获取商品的秒杀模型" class="headerlink" title="2.获取商品的秒杀模型"></a>2.获取商品的秒杀模型</h2><p>在新建秒杀service，并且添加：根据商品id获取秒杀模型的方法<br>    在数据库mapper对添加根据商品id获得秒杀模型的sql，同样，将查询出来的do转换为bo，之后根据获取的秒杀开始和结束时间来set这个商品对应秒杀模型的状态，最后返回秒杀的bo     </p>
<h2 id="3-聚合模型"><a href="#3-聚合模型" class="headerlink" title="3.聚合模型"></a>3.聚合模型</h2><p>将秒杀bo聚合为商品bo的属性之一，此时商品模型就成为了聚合模型，在商品的service层插入代码片段进行秒杀模型的聚合，即itemBo.setKillBO  </p>
<h2 id="4-视图层逻辑编写"><a href="#4-视图层逻辑编写" class="headerlink" title="4.视图层逻辑编写"></a>4.视图层逻辑编写</h2><p>在itemVO中添加killStatus属性来定义商品秒杀状态为0：表示没有秒杀活动，为1：表示秒杀活动进未开始，为2：表示秒杀进行中<br>    继续在vo中添加秒杀价格，秒杀活动模型id，秒杀开始时间的属性，这些都是前端页面需要获取的有用信息，再到itemController中的从商品bo转换为vo的方法中添加代码，<br>    根据是否获取到了秒杀模型来给killStatus，秒杀价格，秒杀活动模型id，秒杀开始时间这几个属性赋值，返回重新封装好的vo即可。  </p>
<h2 id="5-前台代码编写"><a href="#5-前台代码编写" class="headerlink" title="5.前台代码编写"></a>5.前台代码编写</h2><p>根据业务需要修改前台需要显示的值即可，这里注意时间格式的转化，以及倒计时模块的写法   </p>
<h2 id="6-修改order订单相关代码契合秒杀业务"><a href="#6-修改order订单相关代码契合秒杀业务" class="headerlink" title="6.修改order订单相关代码契合秒杀业务"></a>6.修改order订单相关代码契合秒杀业务</h2><p>在订单的bo中加入秒杀活动的id属性，意义为若秒杀id非空，则表示以秒杀商品方式下单，且对应的商品价格，订单总价属性也要随着秒杀业务的变化为变化<br>    在订单数据表中添加对应的秒杀活动id字段，在do中添加相应的属性，mapper对也添加秒杀活动id的字段，这里手动添加不知道为什么总出错，自动生成就不报错  </p>
<p>在service层代码的创建订单的方法的入参中添加秒杀活动id的参数，再方法内添加代码校验活动信息，在订单入库处的代码增加封装秒杀活动id的代码，并且根据秒杀活动的状态获取不同的商品价格  </p>
<p>在controller层创建订单的方法上添加新的前端传过来的入参：killId，并且将required设置为false，即如果前端没有传值就是没有秒杀进行<br>前端则实现倒计时，时间到了之后将下单按钮释放，点击按钮才可以发送killId不为null。   </p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://jiazx.top/2020/08/16/%E5%8D%9A%E4%B8%BB%E4%BB%8B%E7%BB%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="Stephen Jia">
      <meta itemprop="description" content="Try Everything......">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="J Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/16/%E5%8D%9A%E4%B8%BB%E4%BB%8B%E7%BB%8D/" class="post-title-link" itemprop="url">您好！这是一份博主的个人介绍，请查收~</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-08-16 16:25:48 / 修改时间：16:56:46" itemprop="dateCreated datePublished" datetime="2020-08-16T16:25:48+08:00">2020-08-16</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="我就是我"><a href="#我就是我" class="headerlink" title="我就是我"></a>我就是我</h2><p>相信您如果是主动将我的博客地址输入到您的地址栏的时候，您一定也能得知我的姓名是什么，如果您不知道的话，也没关系，您一定能通过这篇blog来大致了解我…<br>I’m <strong>Stephen Jia</strong>: 性别♂，<strong>目前</strong>是<strong>南京邮电大学</strong>通信与信息工程学院研二在读，预计2021年4月毕业的研究生一枚，在读专业为<strong>电子与通信工程</strong>。</p>
<p><strong>本科</strong>就读于距离自己家里不足三公里的学校：<strong>河北师范大学</strong>，年轻懵懂的我随随便便就填上了<strong>通信工程</strong>这个专业志愿，并且一直延续到现在。</p>
<p>在本科期间，顺利地通过了<strong>英语六级</strong>和计算机二级等等相关考试，很幸运地没有把这些额外任务带到研究生阶段，在校期间还凭借着高中时期积累的基础获得了大一学年的<strong>校级单项奖学金</strong>。</p>
<p>2018年，经过近一年的努力考研学习，我顺利地通过了南京邮电大学的筛选，成为一名研究生，开始南下求学的生活。与之前不同的是，虽然硕士专业仍然是通信类，但是我的研究方向却是深度学习与计算机视觉……要问为什么的话，也许是在大四的时候在学院院长的辅导下，参与过一些车牌识别的相关项目，对这个领域产生了不小的兴趣，正好我们学院专业繁多，有这个专业让我可以选择，缘分这东西，谁说的准呢~</p>
<h2 id="从迷茫到清晰"><a href="#从迷茫到清晰" class="headerlink" title="从迷茫到清晰"></a>从迷茫到清晰</h2><p>可以说，从研究生开始，我才是真正接触了编程这门技术，由于所研究方向大多是搭建<strong>机器学习、深度学习</strong>的相关模型，我自然而然的学习了封装好了大量AI相关框架的<strong>Python</strong>语言。利用这个强大的工具，我初步掌握了一些深度学习框架，了解了一些深度学习算法。并且对视频、图像的<strong>目标检测</strong>、<strong>图像去模糊</strong>算法有了比较深入的了解。</p>
<p>时间来到研二，慢慢的也到了该对未来的职业规划的阶段。这也让我迷茫了相当长的时间。该不该在深度学习领域继续深入呢？我得到的答案是：<strong>不能</strong>，原因在于：深度学习本质上是<strong>算法</strong>，算法岗位本质是<strong>研究型</strong>的岗位，第一：我自己很清楚我并不适合做研究，也不适合读博。第二：也是最根本的原因：我的算法水平太菜了QAQ~，听说字节的北京AI部门只有清华和北大的同学，而且写这篇文章时正值疫情期间，众多AI企业纷纷发不出工资，甚至毁约应届生，作为没有顶会论文没有大型比赛获奖的我真的没有丝毫竞争力……这些都让我坚定了以后的<strong>职业目标：软件开发</strong>。</p>
<p>但是我仍然认为AI是一个极其有前景的行业，它急需一群开拓者来改变现在的僵化的状态。</p>
<p>在2019年10月，我第一次受舍友的影响接触了<strong>Java</strong>，刚开始学Java语言的时候比较轻松，因为有了一些Python的基础在，入门还算快。</p>
<p>期初，我是不知道Java可以用来做什么，通常是用来做什么，什么东西大量的用Java进行开发。我只是按部就班的将<strong>Java语言的基本语法和特性</strong>过了个遍。</p>
<p>后来，我慢慢地了解到，Java可以方便地通过一些框架如<strong>JDBC、Mybatis</strong>来操作<strong>数据库</strong>，紧接着，我陆续学习了<strong>HTML,CSS,JavaScript,JQuery,AJAX</strong>等等<strong>前端</strong>相关知识，每天起床第一件事就是学新知识，乐此不疲。这时，我发觉需要一些东西将前端-所学的Java知识-数据库串联起来，那么这个Java领域就是Java后端开发。</p>
<p>最后，我将自己的职业目标定位在了<strong>Java后端开发</strong>这个领域。我深知学习这个领域，我不仅仅要学习<strong>Spring,SpringMVC,Mybatis,Springboot</strong>这些主流的框架。更需要深入基础学习<strong>计算机网络</strong>，<strong>数据结构</strong>相关的知识。</p>
<p>在学习了以上的技术之后，我进一步学习了当前较为主流的非关系型数据库<strong>Redis</strong>,深入研究了Java相关的高级知识：如<strong>Java多线程并发，JVM虚拟机</strong>，也阅读过在工作中最常用的<strong>Java集合类底层源码</strong>。</p>
<p>经过如上的知识储备，慢慢的我萌生了自己动手写某些业务场景的想法。</p>
<h2 id="实践才是王道"><a href="#实践才是王道" class="headerlink" title="实践才是王道"></a>实践才是王道</h2><p>其实每天学习新知识，心里会很没底，到底我有没有掌握这些知识，能不能将一个特定场景的项目自己配置，编写出来，甚至部署上线呢？基于这个想法，我开始了自己的实践，惭愧的是，没有足够业务经验的我，刚开始只能做一个大多数后端方向朋友做过的购物系统。下面是这个项目的详细介绍~</p>
<p><strong>数码产品销售平台</strong> 2019年11月 - 2019年2月<br><strong>项目职责</strong>：负责商品详情接口性能优化，项目整体分布式部署，上线工作。<br><strong>开发环境</strong>:IDEA, tomcat8, nginx<br><strong>开发技术</strong>：Springboot, Mybatis, Redis, Bootstrap, JQuery, RocketMQ<br><strong>项目介绍</strong>：<br><strong>1</strong>.该项目的主要应用<strong>领域驱动型的分层模型</strong>设计方式去完成用户验证码注册、登陆、商品列表、商品详情以及倒计时秒杀开始后下单购买的基本流程<br><strong>2</strong>.在基础项目上进一步完成了<strong>线上部署</strong>。针对并发高流量场景进行了<strong>分布式扩展</strong>，分布式session优化，商品数据的Redis，guava cache的<strong>多级缓存优化设计</strong>。经压测，商品详情接口前后的<strong>tps由250提升至3200</strong>左右；交易下单接口前后的tps由450提升至1200左右，下单流程通过redis实现<strong>分布式锁</strong>保证数据一致性<br><strong>3</strong>.该项目利用Spring为后端框架，Bootstrap、JQuery作为前端框架，mysql作为持久层，Redis实现分布式锁，分布式会话，RocketMQ实现减库存操作异步化，通过Mybatis逆向工程的方式实现数据的持久化操作</p>
<p><strong>项目收获</strong>:领域驱动分层设计思路的学习，从零到一的部署上线，性能调优经验。<br><strong>项目仓库</strong>:<a target="_blank" rel="noopener" href="https://github.com/Younjzxx/seckill-springboot">https://github.com/Younjzxx/seckill-springboot</a><br><strong>优化心得</strong>:<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_31314141/category_9716839.html">https://blog.csdn.net/qq_31314141/category_9716839.html</a></p>
<h2 id="最后的总结："><a href="#最后的总结：" class="headerlink" title="最后的总结："></a>最后的总结：</h2><p>我是热爱后端技术，热爱分享技术的Stephen Jia，这是我的第一篇个人博客，非常感谢您的阅读~</p>
<h2 id="相关链接"><a href="#相关链接" class="headerlink" title="相关链接"></a>相关链接</h2><ul>
<li>我的github：<a target="_blank" rel="noopener" href="https://github.com/Younjzxx">https://github.com/Younjzxx</a></li>
<li>我的商城项目仓库：<a target="_blank" rel="noopener" href="https://github.com/Younjzxx/seckill-springboot">https://github.com/Younjzxx/seckill-springboot</a></li>
<li>商城项目主页(已下线)：<del><a target="_blank" rel="noopener" href="http://47.115.19.41/resources/getotp.html">http://47.115.19.41/resources/getotp.html</a></del></li>
<li>我的csdn主页：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_31314141">https://blog.csdn.net/qq_31314141</a></li>
<li>我的邮箱：<a href="15932110806@163.com">15932110806@163.com</a></li>
</ul>
<blockquote>
<p>感谢hexo提供漂亮的博客框架~</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Stephen Jia"
      src="/uploads/avatar.png">
  <p class="site-author-name" itemprop="name">Stephen Jia</p>
  <div class="site-description" itemprop="description">Try Everything......</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">43</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Younjzxx" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Younjzxx" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2019 – 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Stephen Jia</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.1.0/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
